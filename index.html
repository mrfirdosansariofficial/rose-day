<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Tania ‚ù§Ô∏è Valentine Proposal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box;}
html,body{
  height:100%;
  overflow:hidden;
  font-family:Arial, sans-serif;
}

/* üíó PINK BACKGROUND */
body{
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(180deg,#ffb6c1,#ff69b4,#c2185b);
}

/* üåπ ROSE PETALS */
.petal{
  position:fixed;
  top:-10%;
  font-size:22px;
  pointer-events:none;
  animation:fall linear infinite;
}
@keyframes fall{
  to{transform:translateY(110vh) rotate(360deg);opacity:0;}
}

/* üîê PASSWORD SCREEN */
.lock{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  background:rgba(255,105,180,.45);
  z-index:20;
}
.lock h2{color:white;margin-bottom:12px;}
.lock input{
  padding:12px 18px;
  border-radius:30px;
  border:none;
  outline:none;
  text-align:center;
}

/* ‚úÖ PINK LOCK BUTTON (FIXED) */
.lock button{
  margin-top:12px;
  padding:12px 30px;
  border:none;
  border-radius:30px;
  background:linear-gradient(135deg,#ff5f9e,#ff2f92);
  color:white;
  font-size:1rem;
  cursor:pointer;
}
.lock .error{margin-top:10px;color:white;display:none;}

/* ‚ñ∂Ô∏è START */
.start{
  position:absolute;
  inset:0;
  display:none;
  justify-content:center;
  align-items:center;
  background:rgba(255,182,193,.4);
  z-index:15;
}
.start button{
  padding:20px 44px;
  font-size:1.3rem;
  border:none;
  border-radius:60px;
  background:linear-gradient(135deg,#ff1744,#ff69b4);
  color:white;
  cursor:pointer;
}

/* üíñ CARD */
.card{
  width:90%;
  max-width:460px;
  height:340px;
  background:rgba(255,255,255,.25);
  border-radius:30px;
  display:none;
  justify-content:center;
  align-items:center;
  text-align:center;
  z-index:5;
}

/* TEXT */
.emoji{
  font-family:"Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji","Android Emoji",sans-serif;
  font-size:2.8rem;
}
.text{
  font-size:2rem;
  color:white;
  margin-top:10px;
}
.sub{
  font-size:1.2rem;
  color:white;
  margin-top:10px;
  line-height:1.4;
}

/* üéµ MUSIC BUTTON */
.music-btn{
  margin-top:16px;
  padding:8px 22px;
  border:none;
  border-radius:30px;
  background:rgba(255,255,255,.25);
  color:white;
  font-size:.95rem;
  cursor:pointer;
  backdrop-filter:blur(6px);
}
</style>
</head>

<body>

<!-- üîê PASSWORD -->
<div class="lock" id="lock">
  <h2>üîê Enter Password</h2>
  <input type="password" id="password" placeholder="Password">
  <button onclick="checkPassword()">Unlock ‚ù§Ô∏è</button>
  <div class="error" id="error">‚ùå Wrong password</div>
</div>

<!-- ‚ñ∂Ô∏è START -->
<div class="start" id="start">
  <button onclick="startExperience()">üíñ Start Our Love Story üíñ</button>
</div>

<!-- üíå CARD -->
<div class="card" id="card">
  <div>
    <div class="emoji" id="emoji">üåπ</div>
    <div class="text" id="text"></div>
    <div class="sub" id="sub"></div>
    <button class="music-btn" id="musicBtn" onclick="toggleMusic()">‚è∏Ô∏è Music</button>
  </div>
</div>

<!-- üéµ BACKGROUND MUSIC -->
<audio id="music" loop preload="auto">
  <source src="https://cdn.pixabay.com/download/audio/2023/05/16/audio_8c2e9d7c65.mp3" type="audio/mpeg">
</audio>

<script>
/* üîê PASSWORD */
const PASSWORD = "Tania";

/* üíñ SLIDES */
const slides = [
  {e:"üåπ", t:"Advance Happy Valentine‚Äôs Day", s:"Tania ‚ù§Ô∏è"},
  {e:"‚ù§Ô∏è", t:"Tania Meri Jaan üë©‚Äç‚ù§Ô∏è‚Äçüë®", s:"You are my forever"},
  {e:"üòò", t:"Babu üåª", s:"My heart beats for you"},
  {e:"üåπ", t:"Ummaah üòò", s:"Every breath loves you"},
  {e:"üíç", t:"Will You Marry Me?", s:"Tania üíñ Forever With Me"},
  {e:"ü§±", t:"Tania kya tum mere hone wale bacchon üëº ki Ammi banogi?", s:"Main tumse zindagi bhar bahut pyaar karunga ‚ù§Ô∏è"}
];

let index = 0;
let timer = null;

/* PASSWORD CHECK */
function checkPassword(){
  if(document.getElementById("password").value === PASSWORD){
    document.getElementById("lock").style.display="none";
    document.getElementById("start").style.display="flex";
    setTimeout(()=>location.reload(),300000);
  }else{
    document.getElementById("error").style.display="block";
  }
}

/* ‚ñ∂Ô∏è START EXPERIENCE (üî• MUSIC FIX HERE) */
function startExperience(){
  document.getElementById("start").style.display="none";
  document.getElementById("card").style.display="flex";

  // üî• GUARANTEED MUSIC START
  const audio = document.getElementById("music");
  audio.volume = 0;
  audio.play(); // üëà direct user gesture
  fadeInMusic(audio);

  startPetals();
  runSlider();
}

/* üéµ FADE-IN */
function fadeInMusic(audio){
  let v = 0;
  const fade = setInterval(()=>{
    if(v < 0.75){
      v += 0.03;
      audio.volume = v;
    }else{
      clearInterval(fade);
    }
  },200);
}

/* üéµ PLAY / PAUSE */
function toggleMusic(){
  const audio = document.getElementById("music");
  const btn = document.getElementById("musicBtn");
  if(audio.paused){
    audio.play();
    btn.innerText = "‚è∏Ô∏è Music";
  }else{
    audio.pause();
    btn.innerText = "‚ñ∂Ô∏è Music";
  }
}

/* üîÅ SLIDER */
function runSlider(){
  showSlide();
  clearTimeout(timer);

  const isLast = index === slides.length - 1;
  const delay = isLast ? 8000 : 3500;

  timer = setTimeout(()=>{
    index = isLast ? 0 : index + 1;
    runSlider();
  }, delay);
}

function showSlide(){
  document.getElementById("emoji").innerText = slides[index].e;
  document.getElementById("text").innerText  = slides[index].t;
  document.getElementById("sub").innerText   = slides[index].s;
}

/* üåπ ROSE PETALS */
function startPetals(){
  setInterval(()=>{
    const p = document.createElement("div");
    p.className = "petal";
    p.innerText = "üåπ";
    p.style.left = Math.random()*100 + "vw";
    p.style.animationDuration = 5 + Math.random()*5 + "s";
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),10000);
  },600);
}
</script>

</body>
</html>
